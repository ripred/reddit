{
  "approved_at_utc": null,
  "subreddit": "arduino",
  "selftext": "https://preview.redd.it/w8ebp0zjazhe1.jpg?width=2268&amp;format=pjpg&amp;auto=webp&amp;s=055e174c95cfd38b2208ac2140f0ad3a13710f5a\n\nhttps://preview.redd.it/j9woocumazhe1.jpg?width=2268&amp;format=pjpg&amp;auto=webp&amp;s=8586d3f70ccba42d3d2dc7c1fab1ccb839872d8f\n\nHello friends, \n\nI'm in the middle of a project to control my gas fireplace (Heat n Glo), ultimately with esphome thru home assistant, and am using an esp8266 to do so. there are two components to control, turning the flame on and turning the blower to a high, med, or low setting. My self-imposed constraint is that I do not want to remove functionality from the remote control unit (skytech). more specifically, i am trying to replicate the function of the remote control unit within esphome, and that's where i'm struggling. \n\nthe remote control unit closes a circuit to turn the flame on, so i've wired a relay in parallel and can control that nicely with esphome. no issues there. works great. \n\nthe fan unit is more complicated. the blower fan is 120v AC with a standard nema 5-15p (just a regular plug) at the end of the cord. the fan is plugged into the remote control unit. there is a (i assume original / factory-installed) rheostat-controlled 120v outlet under the fireplace that is labeled fan. it is unused (since the remote control unit currently controls the fan), but if i plug the fan into it, the manual rheostat knob will control the blower fan speed. i believe the remote control unit incorporates a built-in rheostat and similarly varies it to control the fan. \n\nnow, i have connected a servo to the manual rheostat knob and can control that nicely as well through esphome. no issues there. also works great. 3d printed a little bracket and a little adaptor from the servo arm onto the knob. \n\nWhen the blower is connected to the remote control unit, i can read a voltage with a multimeter across the live and neutral prongs of the plug (while partly pulled out to expose them). the  low setting results in 86v ac, med is 107v ac, and high is a \"full\" 119 volts ac. i would like to us an ZMPT101B Voltage Sensor Module [https://www.amazon.com/dp/B0CZHT9G12?ref=ppx\\_yo2ov\\_dt\\_b\\_fed\\_asin\\_title](https://www.amazon.com/dp/B0CZHT9G12?ref=ppx_yo2ov_dt_b_fed_asin_title) in order to read this voltage and determine whether the remote control unit wants to turn the fan on, and then have the servo move the manual rheostat knob to the appropriate setting. \n\nif you've made it this far, thank you. here's the problem:  when i unplug the fan from the remote control unit and plug it into the manual rheostat control (where the servo is), I remove the load from the remote unit. therefore, the voltage no longer decreases when it is controlled, and it always reads 120v. I've reached the limit of my electrical knowledge, but i believe i need to somehow create a dummy load on the rheostat in order to properly read a resulting voltage for the fan settings. perhaps i incorporate some resistor in series or parallel with the voltage sensor module? i'd rather not \"trial-and-error\" a 120v system, so here i am  :) Any help much appreciated\n\n  \n\n\n",
  "author_fullname": "t2_m1s607bn",
  "saved": false,
  "mod_reason_title": null,
  "gilded": 0,
  "clicked": false,
  "title": "Reading rheostat voltage with ZMPT101B Voltage Sensor Module",
  "link_flair_richtext": [],
  "subreddit_name_prefixed": "r/arduino",
  "hidden": false,
  "pwls": 6,
  "link_flair_css_class": null,
  "downs": 0,
  "thumbnail_height": 140,
  "top_awarded_type": null,
  "hide_score": false,
  "media_metadata": {
    "w8ebp0zjazhe1": {
      "status": "valid",
      "e": "Image",
      "m": "image/jpg",
      "p": [
        {
          "y": 192,
          "x": 108,
          "u": "https://preview.redd.it/w8ebp0zjazhe1.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=5f6c8f72901b0a370a4df8cc6975586af256cb88"
        },
        {
          "y": 384,
          "x": 216,
          "u": "https://preview.redd.it/w8ebp0zjazhe1.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=4d2159e606e5ceedd8bed8d6c48b1dd91a26079c"
        },
        {
          "y": 568,
          "x": 320,
          "u": "https://preview.redd.it/w8ebp0zjazhe1.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=0184f7492e7f5d3cb3cdc0702f5eafa911b3f081"
        },
        {
          "y": 1137,
          "x": 640,
          "u": "https://preview.redd.it/w8ebp0zjazhe1.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=6589a532a90e8d9a871744f2087040ddedd35405"
        },
        {
          "y": 1706,
          "x": 960,
          "u": "https://preview.redd.it/w8ebp0zjazhe1.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=b7c95728cb0c4be31f706668d0f96937dfaab4bf"
        },
        {
          "y": 1920,
          "x": 1080,
          "u": "https://preview.redd.it/w8ebp0zjazhe1.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=9ec169de7af443ae9e70ac58cc368cbed8822d1b"
        }
      ],
      "s": {
        "y": 4032,
        "x": 2268,
        "u": "https://preview.redd.it/w8ebp0zjazhe1.jpg?width=2268&amp;format=pjpg&amp;auto=webp&amp;s=055e174c95cfd38b2208ac2140f0ad3a13710f5a"
      },
      "id": "w8ebp0zjazhe1"
    },
    "j9woocumazhe1": {
      "status": "valid",
      "e": "Image",
      "m": "image/jpg",
      "p": [
        {
          "y": 192,
          "x": 108,
          "u": "https://preview.redd.it/j9woocumazhe1.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=36d51065191cc4bc4585eba33349188877a5aefa"
        },
        {
          "y": 384,
          "x": 216,
          "u": "https://preview.redd.it/j9woocumazhe1.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=7820035ac8c0483c32b4dbe61e82d410e3713791"
        },
        {
          "y": 568,
          "x": 320,
          "u": "https://preview.redd.it/j9woocumazhe1.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=fc66bb7012b960694f7e1f6f5934503022938f0c"
        },
        {
          "y": 1137,
          "x": 640,
          "u": "https://preview.redd.it/j9woocumazhe1.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=269e3db41e40777ac18dc21ed0e9ff43554818ea"
        },
        {
          "y": 1706,
          "x": 960,
          "u": "https://preview.redd.it/j9woocumazhe1.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=f21ac4a0cdd21e061a39763fc92ce21ae7efad9d"
        },
        {
          "y": 1920,
          "x": 1080,
          "u": "https://preview.redd.it/j9woocumazhe1.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=c1e3482d44e6c14ae7eac9dba1293fc690cb59fc"
        }
      ],
      "s": {
        "y": 4032,
        "x": 2268,
        "u": "https://preview.redd.it/j9woocumazhe1.jpg?width=2268&amp;format=pjpg&amp;auto=webp&amp;s=8586d3f70ccba42d3d2dc7c1fab1ccb839872d8f"
      },
      "id": "j9woocumazhe1"
    }
  },
  "name": "t3_1ikxgyg",
  "quarantine": false,
  "link_flair_text_color": "dark",
  "upvote_ratio": 1.0,
  "author_flair_background_color": null,
  "subreddit_type": "public",
  "ups": 2,
  "total_awards_received": 0,
  "media_embed": {},
  "thumbnail_width": 140,
  "author_flair_template_id": null,
  "is_original_content": false,
  "user_reports": [],
  "secure_media": null,
  "is_reddit_media_domain": false,
  "is_meta": false,
  "category": null,
  "secure_media_embed": {},
  "link_flair_text": null,
  "can_mod_post": false,
  "score": 2,
  "approved_by": null,
  "is_created_from_ads_ui": false,
  "author_premium": false,
  "thumbnail": "https://b.thumbs.redditmedia.com/hLKIl_3ORt52Uyy1ZFll_yGZIivKKSnOL-mJMSp2kuw.jpg",
  "edited": false,
  "author_flair_css_class": null,
  "author_flair_richtext": [],
  "gildings": {},
  "content_categories": null,
  "is_self": true,
  "mod_note": null,
  "created": 1739048263.0,
  "link_flair_type": "text",
  "wls": 6,
  "removed_by_category": null,
  "banned_by": null,
  "author_flair_type": "text",
  "domain": "self.arduino",
  "allow_live_comments": false,
  "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://preview.redd.it/w8ebp0zjazhe1.jpg?width=2268&amp;amp;format=pjpg&amp;amp;auto=webp&amp;amp;s=055e174c95cfd38b2208ac2140f0ad3a13710f5a\"&gt;https://preview.redd.it/w8ebp0zjazhe1.jpg?width=2268&amp;amp;format=pjpg&amp;amp;auto=webp&amp;amp;s=055e174c95cfd38b2208ac2140f0ad3a13710f5a&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/j9woocumazhe1.jpg?width=2268&amp;amp;format=pjpg&amp;amp;auto=webp&amp;amp;s=8586d3f70ccba42d3d2dc7c1fab1ccb839872d8f\"&gt;https://preview.redd.it/j9woocumazhe1.jpg?width=2268&amp;amp;format=pjpg&amp;amp;auto=webp&amp;amp;s=8586d3f70ccba42d3d2dc7c1fab1ccb839872d8f&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Hello friends, &lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m in the middle of a project to control my gas fireplace (Heat n Glo), ultimately with esphome thru home assistant, and am using an esp8266 to do so. there are two components to control, turning the flame on and turning the blower to a high, med, or low setting. My self-imposed constraint is that I do not want to remove functionality from the remote control unit (skytech). more specifically, i am trying to replicate the function of the remote control unit within esphome, and that&amp;#39;s where i&amp;#39;m struggling. &lt;/p&gt;\n\n&lt;p&gt;the remote control unit closes a circuit to turn the flame on, so i&amp;#39;ve wired a relay in parallel and can control that nicely with esphome. no issues there. works great. &lt;/p&gt;\n\n&lt;p&gt;the fan unit is more complicated. the blower fan is 120v AC with a standard nema 5-15p (just a regular plug) at the end of the cord. the fan is plugged into the remote control unit. there is a (i assume original / factory-installed) rheostat-controlled 120v outlet under the fireplace that is labeled fan. it is unused (since the remote control unit currently controls the fan), but if i plug the fan into it, the manual rheostat knob will control the blower fan speed. i believe the remote control unit incorporates a built-in rheostat and similarly varies it to control the fan. &lt;/p&gt;\n\n&lt;p&gt;now, i have connected a servo to the manual rheostat knob and can control that nicely as well through esphome. no issues there. also works great. 3d printed a little bracket and a little adaptor from the servo arm onto the knob. &lt;/p&gt;\n\n&lt;p&gt;When the blower is connected to the remote control unit, i can read a voltage with a multimeter across the live and neutral prongs of the plug (while partly pulled out to expose them). the  low setting results in 86v ac, med is 107v ac, and high is a &amp;quot;full&amp;quot; 119 volts ac. i would like to us an ZMPT101B Voltage Sensor Module &lt;a href=\"https://www.amazon.com/dp/B0CZHT9G12?ref=ppx_yo2ov_dt_b_fed_asin_title\"&gt;https://www.amazon.com/dp/B0CZHT9G12?ref=ppx_yo2ov_dt_b_fed_asin_title&lt;/a&gt; in order to read this voltage and determine whether the remote control unit wants to turn the fan on, and then have the servo move the manual rheostat knob to the appropriate setting. &lt;/p&gt;\n\n&lt;p&gt;if you&amp;#39;ve made it this far, thank you. here&amp;#39;s the problem:  when i unplug the fan from the remote control unit and plug it into the manual rheostat control (where the servo is), I remove the load from the remote unit. therefore, the voltage no longer decreases when it is controlled, and it always reads 120v. I&amp;#39;ve reached the limit of my electrical knowledge, but i believe i need to somehow create a dummy load on the rheostat in order to properly read a resulting voltage for the fan settings. perhaps i incorporate some resistor in series or parallel with the voltage sensor module? i&amp;#39;d rather not &amp;quot;trial-and-error&amp;quot; a 120v system, so here i am  :) Any help much appreciated&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;",
  "likes": null,
  "suggested_sort": "confidence",
  "banned_at_utc": null,
  "view_count": null,
  "archived": false,
  "no_follow": true,
  "is_crosspostable": false,
  "pinned": false,
  "over_18": false,
  "all_awardings": [],
  "awarders": [],
  "media_only": false,
  "can_gild": false,
  "spoiler": false,
  "locked": false,
  "author_flair_text": null,
  "treatment_tags": [],
  "visited": false,
  "removed_by": null,
  "num_reports": null,
  "distinguished": null,
  "subreddit_id": "t5_2qknj",
  "author_is_blocked": false,
  "mod_reason_by": null,
  "removal_reason": null,
  "link_flair_background_color": "",
  "id": "1ikxgyg",
  "is_robot_indexable": true,
  "report_reasons": null,
  "author": "Supermanspapa",
  "discussion_type": null,
  "num_comments": 0,
  "send_replies": true,
  "contest_mode": false,
  "mod_reports": [],
  "author_patreon_flair": false,
  "author_flair_text_color": null,
  "permalink": "/r/arduino/comments/1ikxgyg/reading_rheostat_voltage_with_zmpt101b_voltage/",
  "stickied": false,
  "url": "https://www.reddit.com/r/arduino/comments/1ikxgyg/reading_rheostat_voltage_with_zmpt101b_voltage/",
  "subreddit_subscribers": 691380,
  "created_utc": 1739048263.0,
  "num_crossposts": 0,
  "media": null,
  "is_video": false
}