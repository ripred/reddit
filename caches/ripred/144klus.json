{
  "approved_at_utc": null,
  "subreddit": "ripred",
  "selftext": "",
  "user_reports": [],
  "saved": false,
  "mod_reason_title": null,
  "gilded": 0,
  "clicked": false,
  "title": "New Arduino CompileTime Library",
  "link_flair_richtext": [
    {
      "e": "text",
      "t": "Library"
    }
  ],
  "subreddit_name_prefixed": "r/ripred",
  "hidden": false,
  "pwls": null,
  "link_flair_css_class": "",
  "downs": 0,
  "thumbnail_height": null,
  "top_awarded_type": null,
  "hide_score": false,
  "name": "t3_144klus",
  "quarantine": false,
  "link_flair_text_color": "light",
  "upvote_ratio": 1.0,
  "author_flair_background_color": "transparent",
  "subreddit_type": "public",
  "ups": 1,
  "total_awards_received": 0,
  "media_embed": {},
  "thumbnail_width": null,
  "author_flair_template_id": "9fa2ceaa-053c-11ed-bb97-124dff5ea4b4",
  "is_original_content": false,
  "author_fullname": "t2_adfkq",
  "secure_media": null,
  "is_reddit_media_domain": false,
  "is_meta": false,
  "category": null,
  "secure_media_embed": {},
  "link_flair_text": "Library",
  "can_mod_post": false,
  "score": 1,
  "approved_by": null,
  "is_created_from_ads_ui": false,
  "author_premium": false,
  "thumbnail": "default",
  "edited": false,
  "author_flair_css_class": null,
  "author_flair_richtext": [
    {
      "a": ":snoo_facepalm:",
      "e": "emoji",
      "u": "https://emoji.redditmedia.com/wzxf63qpaezz_t5_3nqvj/snoo_facepalm"
    }
  ],
  "gildings": {},
  "post_hint": "link",
  "content_categories": null,
  "is_self": false,
  "mod_note": null,
  "crosspost_parent_list": [
    {
      "approved_at_utc": null,
      "subreddit": "arduino",
      "selftext": "Based on a question here a few days ago, and after rediscovering some cool code and [posting about it](https://www.reddit.com/r/arduino/comments/1430d8i/calibrate_hours_minutes_and_seconds_from_compile/?utm_source=share&amp;utm_medium=web2x&amp;context=3) I wrapped it up and submitted a pull request with the official Arduino library repo and it just completed.\n\nInclude the library in your code, call two functions, and from then on every time you compile and upload your project to your microcontroller it will automatically make the current live, wallclock time of the pc, mac, or linux host that compiled it available as the variables: `hour`, `minute`, and `second` and they are kept up-to-date as long as the board has power.\n\nRequires calling just two functions: one during `setup()` and one during `loop()` and the current time for your Arduino project will be identical to the current time of your pc, mac, or linux machine **down to the second**.\n\nUses a `CompileTime` namespace so there won't be collisions for those common symbol names. Works with any C/C++ compiler and any embedded platform.\n\nThe library is named [CompileTime](https://github.com/ripred/CompileTime) and is available from within the IDE using `(ctrl/cmd) shift I` or it can be installed and used from the repo link above. Tested on both the Nano and the new (unreleased) Uno R4 Minima as well.\n\nCheers!\n\n`ripred`\n\n    #include &lt;CompileTime.h&gt;\n    using namespace CompileTime;   // Or prefix everything with CompileTime::\n    \n    void setup() {\n        setCompileTime(4);         // Pass the number of seconds it takes to upload\n    \n        Serial.begin(115200);\n    }\n    \n    void loop() {\n        static uint16_t lasth = hour, lastm = minute, lasts = second;\n    \n        updateTime(micros());\n    \n        if (lasts != second || lastm != minute || lasth != hour) {\n            lasts  = second;   lastm  = minute;   lasth  = hour;\n    \n            char buff[16];\n            snprintf(buff, 16, \"%2d:%02d:%02d\", hour, minute, second);\n            Serial.println(buff);\n        }\n    }",
      "author_fullname": "t2_adfkq",
      "saved": false,
      "mod_reason_title": null,
      "gilded": 0,
      "clicked": false,
      "title": "New Arduino CompileTime Library",
      "link_flair_richtext": [
        {
          "a": ":Libraries:",
          "e": "emoji",
          "u": "https://emoji.redditmedia.com/s7x3w35qfkna1_t5_2qknj/Libraries"
        },
        {
          "e": "text",
          "t": " Libraries"
        }
      ],
      "subreddit_name_prefixed": "r/arduino",
      "hidden": false,
      "pwls": 6,
      "link_flair_css_class": "",
      "downs": 0,
      "thumbnail_height": null,
      "top_awarded_type": null,
      "hide_score": false,
      "name": "t3_143wx2w",
      "quarantine": false,
      "link_flair_text_color": "light",
      "upvote_ratio": 0.96,
      "author_flair_background_color": "#00a6a5",
      "subreddit_type": "public",
      "ups": 17,
      "total_awards_received": 0,
      "media_embed": {},
      "thumbnail_width": null,
      "author_flair_template_id": "5cb3c302-0ef5-11ed-b9fd-aab9a872a9c2",
      "is_original_content": false,
      "user_reports": [],
      "secure_media": null,
      "is_reddit_media_domain": false,
      "is_meta": false,
      "category": null,
      "secure_media_embed": {},
      "link_flair_text": ":Libraries: Libraries",
      "can_mod_post": false,
      "score": 17,
      "approved_by": null,
      "is_created_from_ads_ui": false,
      "author_premium": false,
      "thumbnail": "self",
      "edited": 1686265300.0,
      "author_flair_css_class": null,
      "author_flair_richtext": [
        {
          "a": ":400K:",
          "e": "emoji",
          "u": "https://emoji.redditmedia.com/apsbyvbwmfe91_t5_2qknj/400K"
        },
        {
          "a": ":Arduino_500k:",
          "e": "emoji",
          "u": "https://emoji.redditmedia.com/o5qzzwwkvk5a1_t5_2qknj/Arduino_500k"
        },
        {
          "a": ":600K:",
          "e": "emoji",
          "u": "https://emoji.redditmedia.com/z23hxjk4hpeb1_t5_2qknj/600K"
        },
        {
          "a": ":640K:",
          "e": "emoji",
          "u": "https://emoji.redditmedia.com/g9r24xjaydqc1_t5_2qknj/640K"
        },
        {
          "e": "text",
          "t": " My other dev board is a Porsche"
        }
      ],
      "gildings": {},
      "post_hint": "self",
      "content_categories": null,
      "is_self": true,
      "mod_note": null,
      "created": 1686191864.0,
      "link_flair_type": "richtext",
      "wls": 6,
      "removed_by_category": null,
      "banned_by": null,
      "author_flair_type": "richtext",
      "domain": "self.arduino",
      "allow_live_comments": false,
      "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Based on a question here a few days ago, and after rediscovering some cool code and &lt;a href=\"https://www.reddit.com/r/arduino/comments/1430d8i/calibrate_hours_minutes_and_seconds_from_compile/?utm_source=share&amp;amp;utm_medium=web2x&amp;amp;context=3\"&gt;posting about it&lt;/a&gt; I wrapped it up and submitted a pull request with the official Arduino library repo and it just completed.&lt;/p&gt;\n\n&lt;p&gt;Include the library in your code, call two functions, and from then on every time you compile and upload your project to your microcontroller it will automatically make the current live, wallclock time of the pc, mac, or linux host that compiled it available as the variables: &lt;code&gt;hour&lt;/code&gt;, &lt;code&gt;minute&lt;/code&gt;, and &lt;code&gt;second&lt;/code&gt; and they are kept up-to-date as long as the board has power.&lt;/p&gt;\n\n&lt;p&gt;Requires calling just two functions: one during &lt;code&gt;setup()&lt;/code&gt; and one during &lt;code&gt;loop()&lt;/code&gt; and the current time for your Arduino project will be identical to the current time of your pc, mac, or linux machine &lt;strong&gt;down to the second&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;Uses a &lt;code&gt;CompileTime&lt;/code&gt; namespace so there won&amp;#39;t be collisions for those common symbol names. Works with any C/C++ compiler and any embedded platform.&lt;/p&gt;\n\n&lt;p&gt;The library is named &lt;a href=\"https://github.com/ripred/CompileTime\"&gt;CompileTime&lt;/a&gt; and is available from within the IDE using &lt;code&gt;(ctrl/cmd) shift I&lt;/code&gt; or it can be installed and used from the repo link above. Tested on both the Nano and the new (unreleased) Uno R4 Minima as well.&lt;/p&gt;\n\n&lt;p&gt;Cheers!&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;ripred&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;#include &amp;lt;CompileTime.h&amp;gt;\nusing namespace CompileTime;   // Or prefix everything with CompileTime::\n\nvoid setup() {\n    setCompileTime(4);         // Pass the number of seconds it takes to upload\n\n    Serial.begin(115200);\n}\n\nvoid loop() {\n    static uint16_t lasth = hour, lastm = minute, lasts = second;\n\n    updateTime(micros());\n\n    if (lasts != second || lastm != minute || lasth != hour) {\n        lasts  = second;   lastm  = minute;   lasth  = hour;\n\n        char buff[16];\n        snprintf(buff, 16, &amp;quot;%2d:%02d:%02d&amp;quot;, hour, minute, second);\n        Serial.println(buff);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;",
      "likes": null,
      "suggested_sort": "confidence",
      "banned_at_utc": null,
      "view_count": null,
      "archived": false,
      "no_follow": false,
      "is_crosspostable": false,
      "pinned": false,
      "over_18": false,
      "preview": {
        "images": [
          {
            "source": {
              "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?auto=webp&amp;s=0d3cc08c2f6bdebb85980a7481b6e1b5f811bd0e",
              "width": 1200,
              "height": 600
            },
            "resolutions": [
              {
                "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=8eeaa2b7c71a41c5bba741fa186a9a4bd2ae16e1",
                "width": 108,
                "height": 54
              },
              {
                "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=5c9169ffbbfd6604b1cb092db7897cbfb1baebd1",
                "width": 216,
                "height": 108
              },
              {
                "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=33e2b9ff405c251accbeacc0e4a849d1c4d42b4b",
                "width": 320,
                "height": 160
              },
              {
                "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=1341fff8aefc5b0ac5706d25f27247c42627ca77",
                "width": 640,
                "height": 320
              },
              {
                "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=ae28449dc2d679c96713e904c24a8bb568840ca0",
                "width": 960,
                "height": 480
              },
              {
                "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=dc6b05332e982ed112c9ce1b1ad96fa06fb98cf4",
                "width": 1080,
                "height": 540
              }
            ],
            "variants": {},
            "id": "1a4jxeXf5kbqeBzsHMccKU5DdZVrE3NWujZ-vtf2Flo"
          }
        ],
        "enabled": false
      },
      "all_awardings": [],
      "awarders": [],
      "media_only": false,
      "link_flair_template_id": "5157e812-c1d8-11ed-aa85-8a0e0e8df8e0",
      "can_gild": false,
      "spoiler": false,
      "locked": false,
      "author_flair_text": ":400K::Arduino_500k::600K::640K: My other dev board is a Porsche",
      "treatment_tags": [],
      "visited": false,
      "removed_by": null,
      "num_reports": null,
      "distinguished": null,
      "subreddit_id": "t5_2qknj",
      "author_is_blocked": false,
      "mod_reason_by": null,
      "removal_reason": null,
      "link_flair_background_color": "#3300ee",
      "id": "143wx2w",
      "is_robot_indexable": true,
      "report_reasons": null,
      "author": "ripred3",
      "discussion_type": null,
      "num_comments": 4,
      "send_replies": true,
      "contest_mode": false,
      "mod_reports": [],
      "author_patreon_flair": false,
      "author_flair_text_color": "light",
      "permalink": "/r/arduino/comments/143wx2w/new_arduino_compiletime_library/",
      "stickied": false,
      "url": "https://www.reddit.com/r/arduino/comments/143wx2w/new_arduino_compiletime_library/",
      "subreddit_subscribers": 691390,
      "created_utc": 1686191864.0,
      "num_crossposts": 4,
      "media": null,
      "is_video": false
    }
  ],
  "created": 1686257209.0,
  "link_flair_type": "richtext",
  "wls": null,
  "removed_by_category": null,
  "banned_by": null,
  "author_flair_type": "richtext",
  "domain": "self.arduino",
  "allow_live_comments": false,
  "selftext_html": null,
  "likes": null,
  "suggested_sort": null,
  "banned_at_utc": null,
  "url_overridden_by_dest": "/r/arduino/comments/143wx2w/new_arduino_compiletime_library/",
  "view_count": null,
  "archived": false,
  "no_follow": true,
  "is_crosspostable": false,
  "pinned": false,
  "over_18": false,
  "preview": {
    "images": [
      {
        "source": {
          "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?auto=webp&amp;s=0d3cc08c2f6bdebb85980a7481b6e1b5f811bd0e",
          "width": 1200,
          "height": 600
        },
        "resolutions": [
          {
            "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=8eeaa2b7c71a41c5bba741fa186a9a4bd2ae16e1",
            "width": 108,
            "height": 54
          },
          {
            "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=5c9169ffbbfd6604b1cb092db7897cbfb1baebd1",
            "width": 216,
            "height": 108
          },
          {
            "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=33e2b9ff405c251accbeacc0e4a849d1c4d42b4b",
            "width": 320,
            "height": 160
          },
          {
            "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=1341fff8aefc5b0ac5706d25f27247c42627ca77",
            "width": 640,
            "height": 320
          },
          {
            "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=ae28449dc2d679c96713e904c24a8bb568840ca0",
            "width": 960,
            "height": 480
          },
          {
            "url": "https://external-preview.redd.it/UJ7ocaZLIMmRD-UWA1VBqSJd4xeyM8SwNkRMJI8E9BQ.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=dc6b05332e982ed112c9ce1b1ad96fa06fb98cf4",
            "width": 1080,
            "height": 540
          }
        ],
        "variants": {},
        "id": "1a4jxeXf5kbqeBzsHMccKU5DdZVrE3NWujZ-vtf2Flo"
      }
    ],
    "enabled": false
  },
  "all_awardings": [],
  "awarders": [],
  "media_only": false,
  "link_flair_template_id": "67fe8ba6-0578-11ed-a1f0-e2a331aeaf4a",
  "can_gild": false,
  "spoiler": false,
  "locked": false,
  "author_flair_text": ":snoo_facepalm:",
  "treatment_tags": [],
  "visited": false,
  "removed_by": null,
  "num_reports": null,
  "distinguished": null,
  "subreddit_id": "t5_6as6rv",
  "author_is_blocked": false,
  "mod_reason_by": null,
  "removal_reason": null,
  "link_flair_background_color": "#cc5289",
  "id": "144klus",
  "is_robot_indexable": true,
  "report_reasons": null,
  "author": "ripred3",
  "discussion_type": null,
  "num_comments": 0,
  "send_replies": true,
  "contest_mode": false,
  "mod_reports": [],
  "author_patreon_flair": false,
  "crosspost_parent": "t3_143wx2w",
  "author_flair_text_color": "dark",
  "permalink": "/r/ripred/comments/144klus/new_arduino_compiletime_library/",
  "stickied": false,
  "url": "/r/arduino/comments/143wx2w/new_arduino_compiletime_library/",
  "subreddit_subscribers": 43,
  "created_utc": 1686257209.0,
  "num_crossposts": 0,
  "media": null,
  "is_video": false
}